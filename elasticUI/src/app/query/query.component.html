<html>
<body>

<div class="column left">
    <h2>Logcollector</h2><hr>

    <p>
<!--///////////////////////index-->
    <mat-form-field class="w3-btn">
      <mat-label>Index</mat-label>
      <mat-select [(ngModel)]="inputData.Index">
        <mat-option *ngFor="let index of indexs" (click)="getfield(index.value)" [value]="index.value" >
          {{index.viewValue}}
        </mat-option>
      </mat-select>
    </mat-form-field>

<!--//////////////////////////end index-->
  <mat-form-field class="w3-btn">
    <mat-label>Select Field</mat-label>
    <mat-select [formControl]="toppings" multiple [(ngModel)]="inputData.selectget">
      <mat-option *ngFor="let field of field" [value]="field.field">
        {{field.field}}
      </mat-option>
    </mat-select>
  </mat-form-field>

    </p>
<!--    ////////////////////////1////////////////-->
  <mat-accordion>
  <mat-expansion-panel >
    <mat-expansion-panel-header>
      <mat-panel-title>
        1
      </mat-panel-title>
      <mat-panel-description>
        {{inputData.Key1}}{{inputData.Is1 ? ' != ' : ' : '}}{{inputData.Value1}}
      </mat-panel-description>
    </mat-expansion-panel-header>

      <mat-form-field class="half-width w5-btn">
        <mat-select placeholder="Key1"[(ngModel)]="inputData.Key1" name="field">
          <mat-option *ngFor="let field of field" [value]="field.field">
            {{field.field}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="half-width w5-btn">
        <mat-label>Value1</mat-label>
        <input matInput placeholder="add value" [(ngModel)]="inputData.Value1">
      </mat-form-field>
      <mat-checkbox class="w5-btn" [(ngModel)]="inputData.Is1" value="not">Not</mat-checkbox>
    <p>
      <button class="w3-btn" mat-flat-button color="primary" (click)="checkstatus1(inputData.Key1,inputData.Value1)" >+</button>
      <button class="w3-btn" mat-flat-button color="warn" (click)="clear1()" >CLEAR</button>
    </p>
  </mat-expansion-panel>



  <!--    ////////////////////////2////////////////-->


  <mat-expansion-panel *ngIf="status1" [expanded]="status1">
    <mat-expansion-panel-header>
      <mat-panel-title>
        2
      </mat-panel-title>
      <mat-panel-description>
        {{inputData.Type1.toUpperCase() +" "+ inputData.Key2}}{{inputData.Is2 ? ' != ' : ' : '}}{{inputData.Value2}}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <p>
      <mat-form-field>
        <mat-label>AND OR</mat-label>
        <mat-select [(ngModel)]="inputData.Type1">
          <mat-option *ngFor="let type of types"  [value]="type.value" >
            {{type.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </p><p>
    <mat-form-field class="half-width w5-btn">
      <mat-select placeholder="Key2"[(ngModel)]="inputData.Key2" name="field">
        <mat-option *ngFor="let field of field" [value]="field.field">
          {{field.field}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="half-width w5-btn">
      <mat-label>Value2</mat-label>
      <input matInput placeholder="add value" [(ngModel)]="inputData.Value2">
    </mat-form-field>
    <mat-checkbox class="w5-btn" [(ngModel)]="inputData.Is2" value="not">Not</mat-checkbox>
  </p>
    <button class="w3-btn" mat-flat-button color="primary" (click)="checkstatus2(inputData.Type1,inputData.Key2,inputData.Value2)" >+</button>
    <button class="w3-btn" mat-flat-button color="warn" (click)="clear2()" >CLEAR</button>
  </mat-expansion-panel>




  <!--    ////////////////////////3////////////////-->

  <mat-expansion-panel *ngIf="status2" [expanded]="status2">
    <mat-expansion-panel-header>
      <mat-panel-title>
        3
      </mat-panel-title>
      <mat-panel-description>
        {{inputData.Type2.toUpperCase() +" "+ inputData.Key3}}{{inputData.Is3 ? ' != ' : ' : '}}{{inputData.Value3}}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <p>
      <mat-form-field>
        <mat-label>AND OR</mat-label>
        <mat-select [(ngModel)]="inputData.Type2">
          <mat-option *ngFor="let type of types"  [value]="type.value" >
            {{type.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>

    </p>
    <p>
      <mat-form-field class="half-width w5-btn">
        <mat-select placeholder="Key3" [(ngModel)]="inputData.Key3" name="field">
          <mat-option *ngFor="let field of field" [value]="field.field">
            {{field.field}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="half-width w5-btn">
        <mat-label>Value3</mat-label>
        <input matInput placeholder="add value" [(ngModel)]="inputData.Value3">
      </mat-form-field>
      <mat-checkbox class="w5-btn" [(ngModel)]="inputData.Is3">Not</mat-checkbox>
    </p>
      <button class="w3-btn" mat-flat-button color="primary" (click)="checkstatus3(inputData.Type2,inputData.Key3,inputData.Value3)" >+</button>
      <button class="w3-btn" mat-flat-button color="warn" (click)="clear3()" >CLEAR</button>

  </mat-expansion-panel>

<!--//////////////////////4-->

  <mat-expansion-panel *ngIf="status3" [expanded]="status3">
    <mat-expansion-panel-header>
      <mat-panel-title>
        4
      </mat-panel-title>
      <mat-panel-description>
        {{inputData.Type3.toUpperCase() +" "+ inputData.Key4}}{{inputData.Is4 ? ' != ' : ' : '}}{{inputData.Value4}}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <p>
      <mat-form-field>
        <mat-label>AND OR</mat-label>
        <mat-select [(ngModel)]="inputData.Type3">
          <mat-option *ngFor="let type of types"  [value]="type.value" >
            {{type.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>

    </p>
    <p>
      <mat-form-field class="half-width w5-btn">
        <mat-select placeholder="Key3" [(ngModel)]="inputData.Key4" name="field">
          <mat-option *ngFor="let field of field" [value]="field.field">
            {{field.field}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="half-width w5-btn">
        <mat-label>Value3</mat-label>
        <input matInput placeholder="add value" [(ngModel)]="inputData.Value4">
      </mat-form-field>
      <mat-checkbox class="w5-btn" [(ngModel)]="inputData.Is4">Not</mat-checkbox>
    </p>
    <button class="w3-btn" mat-flat-button color="primary" (click)="checkstatus4(inputData.Type3,inputData.Key4,inputData.Value4)" >+</button>
      <button class="w3-btn" mat-flat-button color="warn" (click)="clear4()" >CLEAR</button>

  </mat-expansion-panel>
<!--    ////////////////////////5///////////-->
    <mat-expansion-panel *ngIf="status4" [expanded]="status4">
      <mat-expansion-panel-header>
        <mat-panel-title>
          5
        </mat-panel-title>
        <mat-panel-description>
          {{inputData.Type4.toUpperCase() +" "+ inputData.Key5}}{{inputData.Is5 ? ' != ' : ' : '}}{{inputData.Value5}}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p>
        <mat-form-field>
          <mat-label>AND OR</mat-label>
          <mat-select [(ngModel)]="inputData.Type4">
            <mat-option *ngFor="let type of types"  [value]="type.value" >
              {{type.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>

      </p>
      <p>
        <mat-form-field class="half-width w5-btn">
          <mat-select placeholder="Key3" [(ngModel)]="inputData.Key5" name="field">
            <mat-option *ngFor="let field of field" [value]="field.field">
              {{field.field}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="half-width w5-btn">
          <mat-label>Value3</mat-label>
          <input matInput placeholder="add value" [(ngModel)]="inputData.Value5">
        </mat-form-field>
        <mat-checkbox class="w5-btn" [(ngModel)]="inputData.Is5">Not</mat-checkbox>
      </p>
        <button class="w3-btn" mat-flat-button color="warn" (click)="clear5()" >CLEAR</button>

    </mat-expansion-panel>


  </mat-accordion>



<!--    //////////////////////time-->
    <p>

      <mat-form-field class="half-width2 w3-btn" >
        <input matInput type="date" placeholder="start day"  [(ngModel)]="inputData.Daygte">
      </mat-form-field>

      <mat-form-field class="half-width2 w3-btn">
        <input matInput type="time" placeholder="start time" [(ngModel)]="inputData.Timegte">
      </mat-form-field>
    </p>
  <mat-form-field class="half-width2 w3-btn">
    <input matInput type="date" placeholder="end day"  [(ngModel)]="inputData.Daylte">
  </mat-form-field>

    <mat-form-field class="half-width2 w3-btn">
      <input matInput type="time" placeholder="end time" [(ngModel)]="inputData.Timelte">
    </mat-form-field>
  <p>


    <br>

    <button class="w3-btn" mat-flat-button color="primary" (click)="get()" >SEARCH</button>
    <button class="w3-btn" mat-flat-button color="warn" (click)="clear()">CLEAR</button>

    <p>
      <mat-form-field class="full-width">
      <mat-label>Path Save</mat-label>
      <input matInput placeholder="add path for save" [(ngModel)]="inputData.foldersave">
      </mat-form-field>
    </p>
    <mat-accordion>
    <mat-expansion-panel class="width55">
      <mat-expansion-panel-header>
        <mat-panel-title>
          EXPORT FILE
        </mat-panel-title>
      </mat-expansion-panel-header>
      <button mat-raised-button color="primary" (click)="saves()" >EXPORT</button>
    </mat-expansion-panel>



    <mat-expansion-panel class="width55">
      <mat-expansion-panel-header>
        <mat-panel-title>
          EXPORT FILE BY CORRELATION_ID
        </mat-panel-title>
      </mat-expansion-panel-header>


      <button  mat-flat-button color="primary" (click)="savescorrelation()" >EXPORT</button>
<!--      <button  mat-flat-button color="warn" (click)="cancel()" >CANCEL</button>-->
    </mat-expansion-panel>
    </mat-accordion>


</div>

<div class="column right" >
  <div class="mat-elevation-z8">
    <mat-table [dataSource]="data" class="table">


      <ng-container matColumnDef="data">
        <mat-header-cell *matHeaderCellDef> Data </mat-header-cell>
        <mat-cell><pre *matCellDef="let element">{{ element._source || element  | json }}</pre>--> </mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="dataColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: dataColumns;"></mat-row>
    </mat-table>

  </div>
  <div *ngIf="loading"><mat-spinner></mat-spinner></div>

<!--      <pre>Data Obtained is: {{ data | json }}</pre>-->

</div>


</body>
</html>
